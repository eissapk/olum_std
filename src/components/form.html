<template>
  <div class="Form">
    <!-- head -->
    <div class="header">
      <button to="/" type="button" class="cancelBtn">cancel</button>
      <button type="button" class="saveBtn">save</button>
      <button type="button" class="updateBtn">update</button>
    </div>
    <!-- body -->
    <div class="body">
      <textarea></textarea>
    </div>
  </div>
</template>

<script>
  import { $ } from "../../lib/pk.js";
  export default class Form {
    margin = 15;

    constructor() {}
    data() {
      return {
        name: "Form",
        components: {},
        template: this.template(),
        style: this.style(),
        render: this.render.bind(this),
      };
    }

    render() {
      this.setDimensions();
      window.on("resize", () => this.setDimensions());
    }

    setDimensions() {
      const h = window.innerHeight;
      const w = window.innerWidth;
      const container = $(".Form");
      if (container) {
        const nav = $(".Nav").clientHeight;
        const header = $(".Header").clientHeight;
        const height = h - (nav + header + this.margin) + "px";
        const width = w - this.margin * 2 + "px";
        container.style.height = height;
        container.style.width = width;
      }
    }
  }
</script>

<style lang="scss">
  .Form {
    position: relative;
    background: white;
    margin: 0 auto;
    border-radius: $radius;
    .header {
      height: 40px;
      background-color: #f1f3f4;
      border-bottom: 1px solid #dee1e6;
      border-radius: 5px 5px 0 0;

      button {
        text-align: center;
        font-weight: 600;
        text-transform: capitalize;
        cursor: pointer;
        transition: background 0.3s ease-in-out;
        width: 80px;
        height: 30px;
        line-height: 30px;
        border-radius: 5px;
      }
      .cancelBtn {
        float: left;
        background-color: #fff;
        color: #8a898b;
        margin: 5px 0 0 10px;
        border: 1px solid #dee1e6;
      }

      .saveBtn,
      .updateBtn {
        float: right;
        margin: 5px 10px 0 0;
        background-color: #417ff5;
        color: #fff;
        border: 0;
      }
    }
    .body {
      height: calc(100% - 40px);
      padding: 10px;
      textarea {
        width: 100%;
        height: 100%;
        padding: 10px;
        border: 1px solid #dee1e6;
        border-radius: 5px;
        resize: none;
        transition: box-shadow 0.3s ease-in-out;
        outline: none;
        &:focus {
          box-shadow: 0 0 1px 1px #417ff5;
        }
      }
    }
  }
</style>
